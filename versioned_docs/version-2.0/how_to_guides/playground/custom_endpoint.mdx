---
sidebar_position: 1
---

# Use a Custom Model

:::important Deployed Model Server Required
You will need to implement and deploy a model server to utilize this feature
:::

## Deploy a Custom Model Server

To use a custom model in the LangSmith playground, you need to deploy a model server that exposes the model's API via [LangServe](https://github.com/langchain-ai/langserve)

Depending on your model, you will need to implement either `custom_model.py` or `custom_chat_model.py`(if your model takes a list of messages).

For your convenience, we have provided a sample model server that you can use as a reference. You can find the sample model server [here](https://github.com/langchain-ai/langsmith-model-server)
We highly recommend using the sample model server as a starting point.

## Adding configurable fields

To make your model configurable in the LangSmith playground, you need to add configurable fields to your model server. These fields can be used to change model parameters from the playground.

You can add configurable fields by implementing the `with_configurable_fields` function in the `config.py` file. You can

```python
def with_configurable_fields(self) -> Runnable:
    """Expose fields you want to be configurable in the playground. We will automatically expose these to the
    playground. If you don't want to expose any fields, you can remove this method."""
    return self.configurable_fields(n=ConfigurableField(
        id="n",
        name="Num Characters",
        description="Number of characters to return from the input prompt.",
    ))
```

## Use the Custom Model in the Playground

Once you have deployed a model server, you can use it in the LangSmith playground. Enter the playground and select the `Custom` model provider.

Enter the `Url`. The playground will automatically detect the available endpoints and configurable fields. You can then invoke the model with the desired parameters.
(TODO: Add GIF here)

If everything is set up correctly, you should see the model's response in the playground.
